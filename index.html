<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Map</title>
  
  <style>
    html,
    body,
    #viewDiv {
      padding: 0;
      margin: 0;
      height: 100%;
      width: 100%;
    }

    form input {
      border: 1px solid #ccc;
      border-radius: 4px;
    }
  </style>

  <script src="js/secret.js"></script>

  <script>
    var esriConfig = {
      apiKey: arcgisAPIKey,
    };
  </script>

  <!-- Load Calcite components from CDN -->
  <link rel="stylesheet" type="text/css" href="https://js.arcgis.com/calcite-components/2.13.2/calcite.css" />
  <script type="module" src="https://js.arcgis.com/calcite-components/2.13.2/calcite.esm.js"></script>

  <!-- Load the ArcGIS Maps SDK for JavaScript from CDN -->
  <link rel="stylesheet" href="https://js.arcgis.com/4.31/esri/themes/light/main.css" />
  <script src="https://js.arcgis.com/4.31/"></script>

  <!-- Load Map components from CDN-->
  <script
    type="module"
    src="https://js.arcgis.com/map-components/4.31/arcgis-map-components.esm.js"
  ></script>

  <script src="https://cdn.tailwindcss.com"></script>

  <link rel="stylesheet" href="css/style.css" />
</head>
<body>

  <div
    class="fixed hidden z-10 insert-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full"
    id="help-modal">

    <div class="relative top-20 mx-auto p-5 pl-10 border w-96 shadow-lg rounded-md bg-white">
      <h3 class="font-bold">Ajuda</h3>
      <ul class="list-disc">
        <li>O mapa exibe os condados coloridos de acordo com as respectivas quantidades de câmeras.</li>
        <li>Para melhorar o desempenho da página, o mapa só exibe os condados que têm pelo menos uma câmera resultante do filtro.</li>
        <li>Os campos no lado esquerdo da página são usados para filtrar câmeras.</li>
        <li>Se deixar os campos vazios, a atualização do mapa considera todas as câmeras disponíveis.</li>
        <li>É possível clicar no polígono de um condado para ver mais detalhes.</li>
        <li>É possível clicar no ponto de uma câmera para ver mais detalhes.</li>
      </ul>
      <button id="js-close-help" class="mt-2 block mx-auto bg-blue-500 text-white px-4 py-2 w-100">Fechar</button>
    </div>

  </div>

  <div class="flex h-screen">

    <div class="p-3 w-80">
      <div class="flex">
        <h2>Filtrar câmeras</h2>
        <button id="js-open-help" class="ml-2 bg-green-500 text-white w-6 rounded-full" aria-label="Ajuda">?</button>
      </div>
      <form>

        <label for="fid">FID</label>
        <input type="number" name="FID" id="FID" />

        <label for="OBJECTID">ObjectID</label>
        <input type="number" name="OBJECTID" id="OBJECTID" />

        <label for="location">Location</label>
        <input type="text" name="location" id="location" />

        <label for="county">County</label>
        <input type="text" name="county" id="county" />

        <label for="feedID">Feed ID</label>
        <input type="text" name="feedID" id="feedID" />

        <label for="url">URL</label>
        <input type="url" name="url" id="url" />

        <label for="iframe">Iframe</label>
        <input type="text" name="iframe" id="iframe" />

        <label for="lat">Latitude</label>
        <input type="number" name="lat" id="lat" />

        <label for="long">Longitude</label>
        <input type="number" name="long" id="long" />
        <input 
          id="js-submit-filter" 
          class="bg-gray-500 w-full py-2 text-white" 
          type="submit" 
          value="Filter"
          disabled />
      </form>
      <div id="js-feedback-msg">Iniciando...</div>
    </div>
  
    <div id="viewDiv" class="w-full">

    </div>
    <!-- <arcgis-map class="w-full" basemap="arcgis/topographic" center="-89.835, 39.763" zoom="5">
  
    </arcgis-map> -->
  </div>
  <script type="module" src="js/main.js"></script>
</body>
</html>
